
<!DOCTYPE html>
<html>
  <head>
    <title>Hank's Domotics App</title>
    <style type="text/css">
    body,html {
      background-color: #D8DBE2;
      height: 100%;
      text-align: center;
    }

    /* This part of the CSS is created to make sure the images are easily aligned in boxes.
       only column 1 and 2 are used in the current build, but for easy remodeling 3 till 8 are still present.
       Images will span accross the entire column with 10 pixels of padding 
    */
    * {
      box-sizing: border-box;
    }
    .col-1 {width: 12.5%}
    .col-2 {width: 25%;}
    .col-3 {width: 37.5%;}
    .col-4 {width: 50%;}
    .col-5 {width: 62.5%;}
    .col-6 {width: 75%;}
    .col-7 {width: 87.5%;}
    .col-8 {width: 100%;}
    [class*="col-"] {
      float: left;
      padding: 10px;
    }
    img {
      object-fit: cover;
      width: 100%;
      max-height: 100%;
    }
    .row::after {
      content: "";
      clear: both;
      display: table;
    }
    </style>
  </head>
  <body>
    <p>

<?php
/* requested functionality for frontend
 for hank:
- fridgedoor open for x time
- request for going outside
- control lights
- control window
-notify  when its bedtime
- control table light brightness (and on/off) 


*/
	$myobj;
	$path = "/home/pi/workingDir/output.json"; // The location of the JSON file
	read(); // The json needs to be read at startup

      // A basic read function. Opens the specified JSON file and puts the data in the object myobj.
      function read() {
        global $myobj, $path;
        $myfile = fopen($path, "r") or die("Unable to open the data file");
        $mystring = fread($myfile, filesize($path));
        fclose($myfile);
        $myobj = json_decode($mystring);
      }

      // A basic write function. Encodes myobj to json and then writes it to the specified file.
      function write() {
        global $myobj, $path;
        $myJSON = json_encode($myobj);
        $myfile = fopen($path, "w") or die("Unable to open the data file");
        fwrite($myfile, $myJSON);
        fclose($myfile);
      }

	function notify(){
	//fridgedoor
	//Bedtime
	}

	function brightnessTableLamp(){
	
	}

	function requestOutside(){

	}

	function controlLights($loc){
		switch($loc){
		case "bed":
			echo "bedlight will be turned on here";
		break;
		case "table":
                        echo "tablelight will be turned on here";
                break;
		default:
			echo "error when setting lights";
		}
	}

	function controlWindow(){

	}

if(isset($_POST['SubmitButton'])){ //check if form was submitted
  $input = $_POST['inputText']; //get input text
  $message = "Success! You entered: ".$input;
}    

echo $myobj->led;
?>
<form action="" method="post"> 
<div class="col-2"><input type="image" src="LightOn.png" alt="Operate Bed Light"/></div>
</form>
   </p>
  </body>
</html>


